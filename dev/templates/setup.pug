doctype html
html
  head
    meta(http-equiv='X-UA-Compatible', content='IE=edge')
    meta(charset='UTF-8')
    meta(name='viewport', content='user-scalable=yes, width=device-width, initial-scale=1, maximum-scale=5')
    meta(name='theme-color', content='#333333')
    meta(name='msapplication-TileColor', content='#333333')
    title Wiki.js Setup

    link(rel='manifest', href='/manifest.json')

    //- Site Lang
    script.
      var siteConfig = !{JSON.stringify({ title: config.title })}

    //- CSS
    <% for (var index in htmlWebpackPlugin.files.css) { %>
      <% if (htmlWebpackPlugin.files.cssIntegrity) { %>
    link(
      type='text/css'
      rel='stylesheet'
      href='<%= htmlWebpackPlugin.files.css[index] %>'
      integrity='<%= htmlWebpackPlugin.files.cssIntegrity[index] %>'
      crossorigin='<%= webpackConfig.output.crossOriginLoading %>'
    )
      <% } else { %>
    link(
      type='text/css'
      rel='stylesheet'
      href='<%= htmlWebpackPlugin.files.css[index] %>'
    )
      <% } %>
    <% } %>

    //- JS
    <% for (var index in htmlWebpackPlugin.files.js) { %>
      <% if (htmlWebpackPlugin.files.cssIntegrity) { %>
    script(
      type='text/javascript'
      src='<%= htmlWebpackPlugin.files.js[index] %>'
      integrity='<%= htmlWebpackPlugin.files.jsIntegrity[index] %>'
      crossorigin='<%= webpackConfig.output.crossOriginLoading %>'
      )
      <% } else { %>
    script(
      type='text/javascript'
      src='<%= htmlWebpackPlugin.files.js[index] %>'
      )
      <% } %>
    <% } %>

  body
    #root
      setup(telemetry-id=telemetryClientID, wiki-version=packageObj.version)
